\documentclass{article}

\usepackage[ansinew]{inputenc}
\usepackage[spanish]{babel}
\usepackage[T1]{fontenc}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage[backend=bibtex,style=alphabetic-verb]{biblatex}
\usepackage[a4paper, total={6in, 8in}]{geometry}

\addbibresource{bibliografia_ds}


\pagestyle{fancy}
\fancyhf{}
\rhead{Martí­n Romera Sobrado}
\chead{Diseño del Software}
\lhead{PEC Febrero 2021}

\begin{document}
	\begin{titlepage}
		\centering
		\vspace*{1cm}
		
		\Huge
		\textbf{71013035 - Diseño del Software}\\
		\textbf{2021}
		
		\vspace{0.5cm}
		\LARGE
		Centro Asociado de la UNED en Bizkaia\\
		Tutor: Aziz Mulud	
		\vspace{1.5cm}
		
		\textbf{Martín Romera Sobrado}\\
		\textbf{Bilbao}
		
		\vfill
		
		\vspace{0.8cm}
		\Large
		Horas de estudio de los contenidos hasta la fecha:\textbf{ 85 horas}\\
		
		Horas de dedicación para realizar esta actividad:\textbf{ 20 horas}\\
		
		Número de actividades no evaluables realizadas:\textbf{ 22 actividades}\\
		
		\today
	\end{titlepage}
	\newpage
	\section{Cuestiones}
		\subsection{Fase de Inicio: Evaluación de los Casos de Uso}
			\subsubsection{Casos de uso primarios}
				\textit{Represente en un diagrama UML de casos de uso, los casos de uso primarios (Elementary Business Process) más importantes, sus actores principales, los de apoyo y las interacciones correspondientes para el módulo SanGranja.}\\
				\begin{figure}[h]
					\includegraphics[width=\textwidth]{diagramas/CasosDeUsoPrimarios.jpg}
					\caption{Diagrama de Casos de Uso primarios.}
				\end{figure}
				
			\newpage
			\subsubsection{Caso de uso <<SimularPropagaciónEnfermedad\_X>>}
				\textit{Con la siguiente descripción del caso de uso <<SimularPropagaciónEnfermedad\_X>>, escribalo en un formato completo (se recomiendoa la variante ``en dos columnas'') y un estilo esencial (excluyendo los detalles técnicos de nivel bajo). Incluya tanto el flujo en el escenario principal de éxito como 2 extensiones o flujos alternativos que pudieran ser frecuentes:}\\
				\begin{table}[h!]
					\centering
					\begin{tabular}{|p{0.5\linewidth}|p{0.5\linewidth}|}
						\hline
						\textbf{Actor principal:} & \textit{Usuario} \\\hline
						\multicolumn{2}{|l|}{\textbf{Escenario príncipal de éxito}} \\\hline
						\textit{Acción del actor} & \textit{Responsabilidad del Sistema} \\\hline
						1. El \textit{Usuario} establece en qué \textit{Corrales} desea hacer la observación. & 2. El \textit{Sistema} toma muestras de los datos biométricos de cada \textit{Corral} seleccionad \\
						& 3. El \textit{Sistema} realiza los cálculos para estimar la previsión de la propagación de la enfermedad en los corrales para un día. \\
						& \textit{El sistema repite el paso 3 para todos los días que haya establecido el usuario} \\
						& 4. El \textit{Sistema} presenta los resultados obtenidos de la iteración del paso 3 en forma de una relación bidimensional.\\\hline
						\multicolumn{2}{|l|}{\textbf{Escenario alternativo 1: El usuario interrumpe el proceso de cálculos}}\\\hline
						\multicolumn{2}{|l|}{Pasos 1, 2 y 3 se mantienen de la misma manera}\\\hline
						4. El \textit{Usuario} decide interrumpir el proceso de cálculo. & 5. El \textit{Sistema} realiza una petición de confirmación al \textit{Usuario}\\
						6a El \textit{Usuario} acepta la petición & 7a El \textit{Sistema} desecha los cálculos y vuelve al estado en el que se encontraba previo a la simulación.\\
						6b El \textit{Usuario} no acepta la petición & 7b \textit{Sistema} reanuda los cálculos y continua en el paso 3 del escenario principal.\\\hline
						\multicolumn{2}{|l|}{\textbf{Flujo alternativo 2: Alguno de los corrales no tiene animales enfermos}}\\\hline
						\multicolumn{2}{|l|}{Pasos 1 y 2 se mantienen de la misma manera}\\\hline
						& 3. El \textit{Sistema} detecta que hay un corral sin animales infectados\\
						& 4. El \textit{Sistema} elimina ese corral para los cálculos de la simulación\\
						& 5. El \textit{Sistema} reanuda los cálculos y continua en el paso 3 del escenario principal.\\\hline
					\end{tabular}
					\caption{Caso de Uso <<SimularPropagaciónEnfermedad\_X>>}
				\end{table}
		\newpage
		\subsection{Fase de Elaboración: Modelado Conceptual}
			
			\textit{En relación con el caso de uso anterior, <<SimularPropagaciónEnfermedad\_X>>, construya un modelo de Dominio y represéntelo en notación UML. Represente los objetos conceptuales, las relaciones relevantes entre ellos, su cardinalidad y los atributos candidatos de los objetos.}\\
		
			\includegraphics[width=\linewidth]{diagramas/MDom SimularPropagacionEnfermedad_X Clases Conceptuales.jpg}
		\newpage
		\subsection{Fase de Elaboración: Diseño Dinámico Detallado del caso de uso}
		
			\subsubsection{Diagrama de interacción}
		
			\textit{Circunscrito al caso de uso que nos ocupa <<SimularPropagaciónEnfermedad\_X>>, construya un Diagrama de Interacción en UML. Represente el actor, sus eventos y el paso de mensajes entre cada instancia de las clases software que componen el sistema para este caso de uso.}\\
		
			\includegraphics[width=\linewidth]{diagramas/DDD SimularPropagacionEnfermedad_X Diagrama de Secuencia.jpg}
			\newpage
			\subsubsection{Contrato de operación: ParamSim}
			
			\textit{A partir del Diagrama de Interacción presentado en la pregunta anterior, escriba y desarrolle el contrato de la operación `ParamSim' que corresponde a la incialización del caso de uso (la creación e incialización de las instancias que se requieran en ese momento) y a la asignación de los valores requeridos para realizar los cálculos de la simulación.} \\
			\begin{center}
				\begin{tabular}{|p{0.25\linewidth}|p{0.75\linewidth}|}
					\hline
					\textbf{Nombre} &
					\texttt{ParamSim}\\\hline
					\textbf{Responsabilidades} &
					Realizar una simulación sobre la propagación de una enfermedad que haya brotado en los corrales druante unos día determinados
					\\\hline
					\textbf{Referencias Curzadas} &
					\textit{Caso de Uso}: <<SimularPropagaciónEnfermedad\_X>>
					\\\hline
					\textbf{Notas} &
					Para la evolución de la enfermedad de un día a otro se utilizará la siguiente formula:
					\[\Delta N_{d+1} = pr \times E \times \left(1- \frac{N_d}{P}\times N_d\right)\]
					Siendo $E$ el promedio de encuentros un día, $pr$ la probabilidad de contagio, $P$ la población animal en un Corral, y $N_d$ el número de animales infectados el día $d$. 
					
					En cuanto para calcular la importación de infectados del exterior de un corral utilizaremos la siguiente formula:
					\[IE_{d+1,i} = \sum_{j=1}^{j = n, j \neq i} T_{j,i} \times \frac{N_{d,j}}{P_j}\]
					Siendo $IE_{d+1,i}$ los infectados importados del exterio en el corral $i$ el día $d+1$, $T_j,i$ son los traslados del corral $j$ a $i$ $N_d,j$ es el número de contagiados en el corral $j$ el día $d$ y $P_j$ es la población animal del corral $j$.
					
					Los traslados deberán estar preprogramados.
					\\\hline
					\textbf{Excepciones} &
					Si el proceso se ve interrumpido, no se mostrará ninguna información sobre la simulación que estaba en curso.
					\\\hline
					\textbf{Salida} &
					Muestra al usuario en forma de relación bidimensional la evolución de la enfermedad a lo largo de los días.
					\\\hline
					\textbf{Precondiciones} &
					Las instancias del \texttt{ControladorSimulacion}, \texttt{ControladorNivelSup} y \texttt{CatalogoCorrales} deberán estar iniciadas en el sistema, además de que \texttt{CatalogoCorrales} deberá constar de al menos un \texttt{Corral} registrado, y todos los traslados que vayan a ocurrir en el lapso de tiempo de la simulación deberán haber sido registrados para obtener unos resultados útiles. Además el hardware desde el que el usuario inicia la simulación deberá tener acceso a la instancia \texttt{ControladorSimulacion}.
					\\\hline
					\textbf{Postcondiciones} &
					El usuario podrá examinar los resultados de la simulación desde un hardware especifico para ello (como un terminal) que tenga acceso a la instancia \texttt{ControladorSimulacion}.
					\\\hline
				\end{tabular}		
			\end{center}
		\newpage
		\subsection{Fase de Elaboración: Diseño Estático Detallado del caso de uso}
			\textit{Elabore un diagrama de clases para el caso de uso que se esrtá tratando <<SimularPropagaciónEnfermedad\_X>> (DCD), centrado en la clase que va a implementar la responsabilidad más caracteristica del casos de uso, la que mejor defina la naturaleza de lo que se hace en él (ControlSim, Calculador, o como lo haya llamado en los diagramas precedentes). Represente los nombres de todos los atributos, asociaciones (con su navegabilidad) y los métodos (excepto `setters' y `getters' irrelevantes), tanto de esa clase como de las que estén directamente involucradas con ella en el funcionamiento del caso de uso.}	
	
			\includegraphics[width=\linewidth]{diagramas/DED SimularPropagacionEnfermedad_X Diagrama de Clases.jpg}
		\newpage
		\subsection{Transformación del Diseño en Código}
		
			\textit{A partir de los anteriores diagramas de clases y colaboraciones, elabore y defina la clase que haya establecido, en el desarrollo anterior, como responsable de controlar la correcta secuencia de acciones en el caso de uso <<SimularPropagaciónEnfermedad\_X>>. Incluya las definiciones de todas las variables que la componen (miembros), pero escriba solamente la definción completa del cuerpo para el método principal o los métodos más significativos: <<se omite el método>>. Ignore los pequeños detalles de sintaxis -el objetivo es evaluar la capacidad fundamental para transformar el diseño en código-. Utilice la sintaxis de Java.}
	
	\printbibliography
			
		
			
\end{document}